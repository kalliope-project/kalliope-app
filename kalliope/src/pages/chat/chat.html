<ion-header>
    <ion-toolbar color="green_material">
        <button ion-button menuToggle>
            <ion-icon name="menu"></ion-icon>
        </button>
        <ion-title>Chats</ion-title>
        <ion-buttons end>
            <button ion-button icon-only color="royal" (click)="cleanMessages()">
                <ion-icon name="trash"></ion-icon>
            </button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>

<ion-content class="main_color" padding>
    <div *ngFor="let chatMessage of chatMessages" >
        <chat-bubble [chatMessage]="chatMessage"></chat-bubble>
    </div>
</ion-content>

<ion-footer>
    <ion-toolbar>
        <ion-input [(ngModel)]="newMessage" placeholder="Chat here"></ion-input>
        <ion-buttons end>
            <button ion-button icon-right color="green_material" (click)="sendMessage()">
                <ion-icon name="send"></ion-icon>
            </button>
                <button *ngIf="isRecording" ion-button icon-only icon-right color="green_material" (click)="stopRecordVoice()">
                    <ion-icon name="pause"></ion-icon>
                </button>
                <button *ngIf="!isRecording" ion-button icon-only icon-right color="green_material" (click)="recordVoice()">
                    <ion-icon name="mic"></ion-icon>
                </button>
        </ion-buttons>
    </ion-toolbar>
</ion-footer>

